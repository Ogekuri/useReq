üöß **DRAFT:** Preliminary Version üìù - Work in Progress üèóÔ∏è üöß

‚ö†Ô∏è **IMPORTANT NOTICE**: Source code generated by **AI** ü§ñ‚ú® ‚ö†Ô∏è

# useReq/req (0.0.43)

The `req` script provides CLI prompts for requirements-driven software development.
The defined prompts are exposed as `req.<name>` commands within various CLIs and Agents.
This allows them to be run both as a Python package (installed as `req`, `usereq`, or `use-req`) and directly using `uvx`.


## Feature Highlights
- Drives development through requirement changes.
- Keeps development under control.
- Creates a common interface for different CLIs and Agents.
- Creates requirements files for existing projects.
- Manages requirements files in different languages.
- Lightweight customization.


## Prompts/Agents
  | Prompt | Description |
  | --- | --- |
  | `analyze` | Produce an analysis report |
  | `change` | Update the requirements and implement the corresponding changes |
  | `check` | Run the requirements check |
  | `cover` | Implement changes to cover new requirements |
  | `create` | Write a draft requirement following a standard template and the current project |
  | `fix` | Fix a defect without changing the requirements |
  | `new` | Implement a new requirement and the corresponding source code changes |
  | `optimize` | Perform optimizations without changing the requirements |
  | `write` | Write a draft requirement following a standard template and the prompt's input |


## Default Workflow

Click to zoom flowchart image.

[![Flowchart](https://raw.githubusercontent.com/Ogekuri/useReq/refs/heads/master/images/flowchart-bw.svg)](https://raw.githubusercontent.com/Ogekuri/useReq/refs/heads/master/images/flowchart-bw.svg)


## Quick Start

### Prerequisites

- Use supported environments: `linux`
- Install the `uv` tool from: [https://docs.astral.sh/uv/getting-started/installation/](https://docs.astral.sh/uv/getting-started/installation/)


### Run useReq/req with uvx
```bash
uvx --from git+https://github.com/Ogekuri/useReq.git req \
  --base myproject/ \
  --doc myproject/docs/ \
  --dir myproject/tech_docs/ \
  --verbose --debug
```

### Install/Uninstall useReq/req with uv

#### Install
```bash
uv tool install usereq --force --from git+https://github.com/Ogekuri/useReq.git
```

#### Uninstall
```bash
uv tool uninstall usereq
```

### Usage
- Run `req` to create/re-create `.codex`, `.github`, `.gemini`, `.kiro`, and `.req` in your project repository.
  - Launch `req` from your home directory (or wherever you prefer) and specify `--base <project-folder>` or `--here` to use the current directory as the project base.
  - `--doc` must be an existing directory under the project base and **must** contain requirements `.md` files.  If one doesn't exist, it is automatically created from the `requirements.md` template.
  - `--dir` must be an existing directory under the project base and **can** contain technical documentation folders.
- You need to run `req` again if you add or remove `.md` requirement files in the `docs/` directory or any subfolders in the `tech/` directory.
- Add `--verbose` and `--debug` to get detailed and diagnostic output.


## Supported CLIs, Agents, and Extensions

### Support

- ‚úÖ OpenAI Codex (set environment variable **CODEX_HOME** to project's home)
- ‚úÖ Claude Code
- ‚úÖ GitHub Copilot
- ‚úÖ OpenCode
- ‚úîÔ∏è Gemini Code Assist
- ‚úîÔ∏è Kiro CLI

| ‚úÖ supported | ‚úîÔ∏è partially supported | ‚ùå issues | ‚õî not supported |


### Support Details

#### OpenAI Codex
- ‚úÖ OpenAI Codex CLI Prompt [`/prompts:req.create italian`]
  * set environment variable **CODEX_HOME** to project's home before run codex CLI
- ‚úÖ OpenAI Codex Extension for Visual Studio Code [`/prompts:req.create italian`]
  * set environment variable **CODEX_HOME** to project's home before run VS Code

#### Claude Code
- ‚úÖ Claude Code CLI Prompt [`/req.create italian`]
- ‚úÖ Claude Code CLI Agent [`@agent-req-create italian`]
- ‚úÖ Claude Extension for Visual Studio Code [`@agent-req-create italian`] (does not **hightlight** agent's commands like CLI)

#### GitHub Copilot
- ‚úÖ GitHub Copilot CLI Prompt [`/req.create italian`]
- ‚úîÔ∏è GitHub Copilot Agent Chat in Visual Studio Code [`gui; select agent ‚û°Ô∏è req.create; italian ‚Ü©Ô∏è`]
  * **Starts a new chat** for every prompt.

#### OpenCode
- ‚úÖ OpenCode CLI Prompt [`/req.create italian`]
- ‚úîÔ∏è OpenCode CLI Agent [`<TAB> ‚û°Ô∏è Req.Create ‚û°Ô∏è italian ‚Ü©Ô∏è`]
  * **Starts a new session** (`/new`) for every prompt.

#### Gemini Code Assist
- ‚úÖ Gemini CLI [`/req:create italian`]
- ‚õî Gemini Code Assist Extension for Visual Studio Code [`???`]
  * Prompts/Agents not supported by the vs code extension

#### Kiro
- ‚ùå Kiro CLI Prompt [`'@req.create italian'`] (does not work as expected)
  - Prompt parameters (`$ARGUMENTS`) are not evaluated by the Kiro CLI.
  - *no arguments supported for file-based prompts* ‚Üí [Manage prompts](https://kiro.dev/docs/cli/chat/manage-prompts/)
  - Defect #4141 ‚Üí [Saved prompt with arguments only works when entire message is quoted in CLI (Spec Kit + Kiro CLI 1.21.0) #4141](https://github.com/kirodotdev/Kiro/issues/4141)
- ‚úîÔ∏è Kiro CLI Agent [`/agent swap; select agent ‚û°Ô∏è req.create; italian ‚Ü©Ô∏è`] (does not work as expected)
  * **Clears the context** (`/clear`) for every prompt.


## Known Issues

- **Grok Code Fast 1** does not respect TODO list and not wait for approval 
  * Defect #3180 ‚Üí [Bug: Grok Code Fast 1 not update to do list correctly #3180](https://github.com/Kilo-Org/kilocode/issues/3180)


## Enable model and tools on prompts/agents

The --enable-tools switch include "tools:" specification on prompts according read/write needs.

The --enable-models switch include "model:" specification on prompts according below tables.

### GitHub Copilot

#### Available Models, Costs, Context Lenght, Reasoning [1]

  | Model | Cost | Context Lenght | Reasoning [1] |
  | --- | --- | --- | --- |
| Grok Code Fast 0 (copilot) | 0x | 256K | |
| Claude Haiku 4.5 (copilot) | 0.33 | 200K | |
| Claude Sonnet 4.5 (copilot) | 1x | 1M | |
| Claude Opus 4.5 (copilot) | 3x | 200K | Yes |
| Gemini 3 Flash (Preview) (copilot) | 0.33 | 1,05M | |
| Gemini 3 Pro (Preview) (copilot) | 1x | 1,05M | **Yes** |
| GPT-5 mini (copilot) | 0x | 400K | **Yes** |
| GPT-5.1 (copilot) | 1x | 400K | **Yes** |
| GPT-5.1-Codex-Mini (Preview) (copilot) | 0.33 | 400K | |
| GPT-5.1-Codex (copilot) | 1x | 400K | |
| GPT-5.1-Codex-Max (copilot) | 1x | 400K | |
| GPT-5.2 (copilot) | 1x | 400K | Yes |

[1] *reasoning usage according openrouter.ai*

#### Configured Models

  | Prompt | Model |
  | --- | --- |
  | `change` | GPT-5 mini (copilot) |
  | `check` | Gemini 3 Flash (Preview) (copilot) |
  | `cover` | GPT-5.1-Codex-Max  (copilot) |
  | `fix` | GPT-5.1-Codex-Max (copilot) |
  | `new` | GPT-5 mini (copilot) |
  | `optimize` | GPT-5.2 (copilot) |
  | `write` | Gemini 3 Pro (Preview) (copilot) |
  | `create` | Gemini 3 Pro (Preview) (copilot) |
